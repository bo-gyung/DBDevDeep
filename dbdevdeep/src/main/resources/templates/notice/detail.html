<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{include/notice_layout}">
<th:block layout:fragment="content">
<style>
	/* disabled 전용 입력 필드 스타일 */
	input[type="text"][disabled] {
	    border: none; /* 테두리 제거 */
	    background-color: transparent; /* 배경색 투명으로 설정 */
	    outline: none; /* 포커스 시 외곽선 제거 */
	    color: #000; /* 텍스트 색상 설정 (예: 검정색) */
	    padding: 0; /* 기본 패딩 제거 */
	    font-size: inherit; /* 상속된 폰트 크기 사용 */
	}

</style>
<body>
		<!-- ============================================================== -->
		<!-- Page wrapper  -->
		<!-- ============================================================== -->
		<div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <div class="row">
                	<div class="col-sm-12">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title">공지사항 게시글 조회</h3>
                                <hr>
                                <form id="noticeDetailForm" method="post" action="#">
                                	<div class="row form-group">
	                                    <div class="col-md-2">
	                                    	<small id="category_help" class="form-text text-muted">공지분류</small>
	                                        <input type="text" class="form-control" id="category_name"  
	                                        th:value="${dto.category_name}" disabled>
	                                    </div>
	                                    <div class="col-md-10">
	                                    	<small id="check_list_help" class="form-text text-muted">체크여부</small>
	                                    	<div class="row" >
		                                    	<div class="custom-control custom-checkbox col-md-2">
			                                        <input type="checkbox" class="custom-control-input" id="is_impoltant" 
			                                        th:checked="${dto.is_important}" disabled>
				                                    <label class="custom-control-label mr-sm-3" for="is_impoltant">상단 고정</label>
			                                	</div>
			                                	<div class="custom-control custom-checkbox col-md-2">
				                                    <input type="checkbox" class="custom-control-input" id="is_cmt" 
				                                    th:checked="${dto.is_cmt}" disabled>
				                                    <label class="custom-control-label" for="is_cmt">댓글 작성 허용</label>
			                                	</div>
	                                    	</div>
	                                    </div>
                                    </div>
                                	<div class="row form-group">
                                		<div class="col-md-10">
                                			<small id="title_help" class="form-text text-muted">제목</small>
	                               			<input type="text" class="form-control" id="notice_title" style="padding:1%;" 
	                               			th:value="${dto.notice_title}" disabled>
                                		</div>
                                		<div class=" col-md-2 ">
                                        	<small id="name_help" class="form-text text-muted">작성자</small>
                                			<input type="text" class="form-control" id="writer_name"  
                                			th:value="${dto.writer_name}" disabled>
                                		</div>
                                	</div>
                                	<hr>
                                	<div class="row form-group">
                                		<div class="col-md-12">
                                        	<small id="content_help" class="form-text text-muted">내용</small>
                                			<div class="form-control" style="height: 50vh; padding:1%; border:none;" 
                                			th:text="${dto.notice_content}">
                                			</div>
                                		</div>
                                	</div>
                                	<hr>
                                	<div class="row">
                                        <div class="col-md-11">
                                            <label class="form-control" for="notice_file">파일을 선택하세요.</label>
                                            <input type="file" class="custom-file-input" id="notice_file">
                                        </div>
                                        <div class="col-md-1">
                                            <button class="btn btn-outline-secondary" type="button">첨부</button>
                                        </div>
                                    </div>
                                    <input type="hidden" id="notice_no" name="notice_no" th:value="${dto.notice_no}">
                                    <div class="row mb-2">
			                        	<div class="col-6 d-flex justify-content-start">
				                            <button type="button" class="btn waves-effect waves-light btn-primary m-1" 
				                            onclick="location.href='/notice'">목록으로</button>
				                            
			                        	</div>
			                        	<div class="col-6 d-flex justify-content-end">
				                            <button type="button" class="btn waves-effect waves-light btn-light m-1" 
				                            onclick="deleteNotice()">삭제</button>
				                            <button type="button" class="btn waves-effect waves-light btn-primary m-1" 
				                            onclick="modNotice()">수정</button>
			                        	</div>
		                            </div>
                                </form>
                            </div>
                        </div>
                        <!-- 1. 댓글창 생성여부 : false -->
						<th:block th:if="${!dto.is_cmt}">
							<div class="card">
		                    	<div class="card-body">
		                    		<h4 class="card-title">댓글을 작성할 수 없는 게시글입니다.</h4>
		                    	</div>
		                    </div>
						</th:block>
						<!-- 1. 댓글창 생성여부 : true -->
						<th:block th:if="${dto.is_cmt}">
							<div class="card">
		                    	<div class="card-body">
		                    		<h4 class="card-title">댓글</h4>
		                    		<hr>
		                    		<!-- 댓글창 시작 -->
									<div class="comment_list" id="comment_place">
										댓글 리스트를 불러와서 if문으로 없으면 없다고 표시, 있으면 댓글창 출력
										
										<!-- <c:choose>
											<c:when test="${empty c_list }">
												<div class="card mb-4">
														<div class="card-body">
															<p>작성된 댓글이 없습니다.</p>
														</div>
													</div>
											</c:when>
											<c:otherwise>
												<c:forEach items="${c_list }" var="c" varStatus="status">
													<div class="card mb-4">
														<div class="card-body">
															<p>${c.comment_main }</p>
															<div class="d-flex justify-content-between">
																<div class="d-flex flex-row align-items-center">
																	<p class="small mb-0 ms-2">${c.user_name }</p>
																</div>
																<div class="d-flex flex-row align-items-center">
																	<p class="small text-muted mb-0">${c.reg_time }</p>
																</div>
															</div>
														</div>
													</div>
												</c:forEach>
											</c:otherwise>
										</c:choose> -->
									</div>
						            <!-- 댓글창 종료 -->
		                    	</div>
		                    </div>
						</th:block>
	                    
                    </div>                    
                </div>
                <!-- ============================================================== -->
                <!-- End Page Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center text-muted">
                All Rights Reserved by Adminmart. Designed and Developed by <a
                    href="https://wrappixel.com">WrapPixel</a>.
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    <!-- Custom script -->
    <!-- ============================================================== -->   
    <script>
 
    const delectNotice = function(){
    	
    }
	

    const modNotice = function(){
	    	const noticeNo = document.getElementById('notice_no').value;
	    	const url = '/notice/edit/' + encodeURIComponent(noticeNo);
	    	window.location.href = url;
	    }
    </script>
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="/assets/libs/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="/assets/libs/popper.js/dist/umd/popper.min.js"></script>
    <script src="/assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- apps -->
    <!-- apps -->
    <script src="/dist/js/app-style-switcher.js"></script>
    <script src="/dist/js/feather.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
    <script src="/assets/extra-libs/sparkline/sparkline.js"></script>
    <!--Wave Effects -->
    <!-- themejs -->
    <!--Menu sidebar -->
    <script src="/dist/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="/dist/js/custom.min.js"></script>
    <!--This page plugins -->
    <script src="/assets/extra-libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/dist/js/pages/datatable/datatable-basic.init.js"></script>
</body>

</html>