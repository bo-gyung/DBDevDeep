<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="documentTreeNavLayout">
	
	<style>
		/* 부모 요소에 flexbox를 적용해 트리를 가운데 정렬 */
		#folder_container {
			margin-top:15px;
			margin-left:25px;
			color:black !important;
		}
		
		#folder_list .jstree-anchor{
			margin-bottom: 10px; /* 트리 항목 간의 간격을 10px로 설정 */
		}
		
		.sidebar-nav {
		    padding-top: 10px !important;
		}
		
	</style>
	
	<aside class="left-sidebar" data-sidebarbg="skin6">
	    <div class="scroll-sidebar" data-sidebarbg="skin6" style="position: relative; height: 100%;">
	        <nav class="sidebar-nav">
	            <ul id="sidebarnav" style="height: calc(100% - 160px); overflow-y: auto;">
	                <li class="sidebar-item">
	                    <a class="sidebar-link" th:href="@{/file}" aria-expanded="false">
	                        <span class="hide-menu">폴더목록</span>
	                    </a>
	                </li>
	                <li id="folder_container">
	                    <div id="folder_list">
	                        <!-- 폴더 목록 -->
	                    </div>
	                </li>
	            </ul>
	            <div style="position: absolute; bottom: 0; width: 100%; padding-left: 15px; padding-right: 15px; padding-bottom: 15px;">
	                <div id="storage-info" style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; text-align: center;">
	                    <div style="text-align: left; font-weight: bold; font-size: 20px;" id="storage_name">공용문서함 용량</div>
	                    <div class="used-space" style="font-size: 16px; font-weight: bold; margin-top: 10px; text-align: left; color: #0031AE;">0GB</div>
	                    <div style="display: flex; align-items: center; justify-content: center; margin-top: 10px;">
	                        <div style="background-color: #E8EAEC; width: 100%; height: 10px; border-radius: 5px;">
	                            <div class="progress-bar" style="width: 0%; background-color: #0031AE; height: 10px; border-radius: 5px;"></div>
	                        </div>
	                    </div>
	                    <div style="display: flex; justify-content: space-between; font-size: 0.9em; margin-top: 5px;">
	                        <span>0</span>
	                        <span>10GB</span>
	                    </div>
	                </div>
	            </div>
	        </nav>
	    </div>
	</aside>

	<script>
	$(document).ready(function() {
	    // jstree가 생성된 후 열림/닫힘 상태에 따라 아이콘 설정
	    $('#folder_list').on('open_node.jstree', function(e, data) {
	        $(data.node).find('.jstree-ocl').css({
	            'background-image': 'url("/assets/images/minus-button.png")',
	            'background-size': 'contain',
	            'width': '16px',
	            'height': '16px',
	            'display': 'inline-block'
	        });
	    });

	    $('#folder_list').on('close_node.jstree', function(e, data) {
	        $(data.node).find('.jstree-ocl').css({
	            'background-image': 'url("/assets/images/plus-button.png")',
	            'background-size': 'contain',
	            'width': '16px',
	            'height': '16px',
	            'display': 'inline-block'
	        });
	    });
	});
	</script>
</th:block>
</html>